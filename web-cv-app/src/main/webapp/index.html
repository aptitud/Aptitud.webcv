<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular.min.js" type="text/javascript"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.2.25/angular-route.min.js"></script>
    <script src="http://plus.google.com/js/client:plusone.js"></script>
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
    <script type="text/javascript" src="http://ajax.cdnjs.com/ajax/libs/json2/20110223/json2.js"></script>
    <script src="app/app.js" type="text/javascript"></script>
    <script src="app/directives/Fileupload.js" type="text/javascript"></script>
    <script src="app/service/EmployeeService.js" type="text/javascript"></script>
    <script src="app/service/CVService.js" type="text/javascript"></script>
    <script src="app/service/GoogleService.js" type="text/javascript"></script>
    <script src="app/service/AuthService.js" type="text/javascript"></script>
    <script src="app/controllers/EditController.js" type="text/javascript"></script>
    <script src="app/controllers/SearchController.js" type="text/javascript"></script>
    <script src="app/controllers/FileUploadController.js" type="text/javascript"></script>
    <script src="app/controllers/LoginController.js" type="text/javascript"></script>
    <script src="app/controllers/NavbarController.js" type="text/javascript"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <script src="app/3party/ui-select/select.min.js" type="text/javascript"></script>

    <link rel="stylesheet" type="text/css" href="css/style.css">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.1/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <link rel="stylesheet" href="css/3party/ui-select/select.min.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
</head>
<body ng-app='WebCVApplication' ng-cloak>
<script type="text/javascript">
    //<![CDATA[
    function pasteSort(element) {
        //Should find a pure angular way to do this!
        var box = $(element);
        setTimeout(function () {
            var str = box.val();
            str = str.replace(/(?:\r\n|\r|\n)/g, " ");
            box.val(str);
            angular.element(box).triggerHandler('input')
        }, 100);
    }
    //]]>
</script>
<div ng-controller="NavbarController">
    <nav class="navbar navbar-default navbar-fixed-top" ng-if="isAuthenticated">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">
                    <img alt="Aptitud" width="30px" height="30px" src="img/logo.jpg">
                </a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <form class="navbar-form navbar-left" style="padding-top: 0.3em;" role="search"
                      ng-controller='SearchController'>
                    <div class="form-group">
                        <ui-select ng-model="selected.employee" theme="select2"
                                   style="min-width: 20em;" ng-change="onSelect()">
                            <ui-select-match placeholder="SÃ¶k konsult....">
                                {{$select.selected.name}}
                            </ui-select-match>
                            <ui-select-choices refresh="load($select.search)" refresh-delay="100"
                                               repeat="e in employees">
                                <div>{{e.name}}</div>
                                <small>
                                    roll: {{e.role}}
                                </small>
                            </ui-select-choices>
                        </ui-select>
                    </div>
                    <div id="loadtext" style="display: none;" class="overlay"><h3><i class="fa fa-spinner fa-spin"></i>&nbsp;&nbsp;Laddar...
                    </h3>
                    </div>
                </form>
                <ul class="nav navbar-nav">
                    <li>
                        <button type="button" class="btn btn-default navbar-btn" ng-click="newConsultant()">
                            <i class="fa fa-user"></i>&nbsp;Ny konsult
                        </button>
                    </li>
                </ul>
                <ul class="nav navbar-nav navbar-right" style="margin-right: 1em;">
                    <li>
                        <p class="navbar-text"><small>Logged in as: {{user}}</small></p>
                    </li>
                    <li>
                        <button type="button" class="btn btn-default navbar-btn" ng-click="logout()">
                            <i class="fa fa-times-circle"></i>&nbsp;Logga ut
                        </button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<div ng-view class="container" style="margin-top: 5em;"></div>
</body>
</html>